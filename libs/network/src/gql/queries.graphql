mutation RegistUserwithUserself(
  $registWithUserselfInput: RegistWithUserselfInput!
) {
  registUserwithUserself(registWithUserselfInput: $registWithUserselfInput) {
    updatedAt
    uid
    name
    image
    createdAt
  }
}
mutation RegistUserwithProvider(
  $registWithProviderInput: RegistWithProviderInput!
) {
  registUserwithProvider(registWithProviderInput: $registWithProviderInput) {
    updatedAt
    uid
    name
    image
    createdAt
  }
}
query Companies(
  $distinct: [CompanyScalarFieldEnum!]
  $orderBy: [CompanyOrderByWithRelationInput!]
  $where: CompanyWhereInput
  $cursor: CompanyWhereUniqueInput
  $skip: Float
  $take: Float
) {
  companies(
    distinct: $distinct
    orderBy: $orderBy
    where: $where
    cursor: $cursor
    skip: $skip
    take: $take
  ) {
    createdAt
    description
    displayName
    garages {
      id
    }
    id
    managers {
      uid
    }
    updatedAt
  }
}

mutation UserLogin($userLoginInput: LoginInput!) {
  userLogin(userLoginInput: $userLoginInput) {
    token
    user {
      uid
      name
      image
    }
  }
}

query GetAuthProvider($uid: String!) {
  getAuthProvider(uid: $uid) {
    uid
    type
  }
}

query SearchGarages(
  $dateFilter: DateFilterInput!
  $locationFilter: LocationFilterInput!
  $slotsFilter: SlotWhereInput
  $garageFilter: GarageFilter
) {
  searchGarages(
    dateFilter: $dateFilter
    locationFilter: $locationFilter
    slotsFilter: $slotsFilter
    garageFilter: $garageFilter
  ) {
    id
    address {
      lat
      lng
      address
    }
    verification {
      verified
    }
    availableSlots(dateFilter: $dateFilter, slotsFilter: $slotsFilter) {
      pricePerHour
      type
      count
    }
    images
    displayName
  }
}

query MyCompany {
  myCompany {
    id
    garages {
      description
      id
      displayName
      address {
        id
        address
        lat
        lng
      }
    }
    createdAt
    displayName
  }
}

mutation CreateCompany($createCompanyInput: CreateCompanyInput!) {
  createCompany(createCompanyInput: $createCompanyInput) {
    id
  }
}

query Garages(
  $where: GarageWhereInput
  $distinct: [GarageScalarFieldEnum!]
  $orderBy: [GarageOrderByWithRelationInput!]
  $cursor: GarageWhereUniqueInput
  $take: Float
  $skip: Float
) {
  garages(
    where: $where
    distinct: $distinct
    orderBy: $orderBy
    cursor: $cursor
    take: $take
    skip: $skip
  ) {
    id
    displayName
    description
    images
    verification {
      verified
    }
    address {
      id
      lat
      lng
      address
    }
    slotCounts {
      type
      count
    }
  }

  garagesCount(where: $where) {
    count
  }
}

mutation CreateGarage($createGarageInput: CreateGarageInput!) {
  createGarage(createGarageInput: $createGarageInput) {
    id
  }
}

mutation CreateSlots($createSlotInput: CreateSlotInput!, $count: Float!) {
  createSlots(createSlotInput: $createSlotInput, count: $count) {
    count
  }
}
fragment ValetFields on Valet {
  image
  uid
  displayName
}
fragment BookingFields on Booking {
  id
  pricePerHour
  endTime
  startTime
  vehicleNumber
  passcode
  status
  bookingTimeline {
    status
    timestamp
  }
  valetAssignment {
    pickupValet {
      ...ValetFields
    }
    returnValet {
      ...ValetFields
    }
  }
  slot {
    displayName
    garage {
      images
      address {
        address
        lat
        lng
      }
    }
  }
}

query BookingsForGarage(
  $distinct: [BookingScalarFieldEnum!]
  $where: BookingWhereInput
  $orderBy: [BookingOrderByWithRelationInput!]
  $cursor: BookingWhereUniqueInput
  $take: Float
  $skip: Float
) {
  bookingsForGarage(
    distinct: $distinct
    where: $where
    orderBy: $orderBy
    cursor: $cursor
    take: $take
    skip: $skip
  ) {
    ...BookingFields
  }
  bookingsCount(where: $where) {
    count
  }
}

mutation createBookingTimeline(
  $createBookingTimelineInput: CreateBookingTimelineInput!
) {
  createBookingTimeline(
    createBookingTimelineInput: $createBookingTimelineInput
  ) {
    bookingId
    id
    managerId
    status
    timestamp
  }
}
